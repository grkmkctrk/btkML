# -*- coding: utf-8 -*-
"""SablonPoly

Automatically generated by Colaboratory.

Original file is located at
    https://colab.research.google.com/drive/1q7wdWuD37gfN1V6W7o2_HGaW-dv9jn-w

1 - KUTUPHANELER
"""

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt

"""2 -  VERI YUKLEME"""

veriler = pd.read_csv('/content/maaslar.csv')

"""3 - DATA FRAME (SLICE) DILIMLEME"""

X = veriler.iloc[:, [1]]
Y = veriler.iloc[:, [2]]
# NUMPY ARRAY DIZI DONUSUMU
x = X.values
y = Y.values

"""4 - LINEER REGRESSION (DOGRUSAL MODEL)"""

from sklearn.linear_model import LinearRegression

lin_reg = LinearRegression()
lin_reg.fit(X, Y)

"""5 - POLYNOMIAL REGRESSION (DOGRUSAL OLMAYAN -NONLINEAR- MODEL)

> 2.DERECEDEN


"""

from sklearn.preprocessing import PolynomialFeatures

# verileri derecesine gore olusturduk
poly_reg = PolynomialFeatures(degree = 2)

x_poly = poly_reg.fit_transform(x)

# polynomial predict
lin_regP = LinearRegression()
lin_regP.fit(x_poly, Y) # x_poly derecesine gore yeni X leri tanimlayan dizi
predY = lin_regP.predict(x_poly)

"""

> 4. DERECEDEN

"""

# verileri derecesine gore olusturduk
poly_reg2 = PolynomialFeatures(degree = 4)

x_poly2 = poly_reg2.fit_transform(x)

# polynomial predict
lin_regP2 = LinearRegression()
lin_regP2.fit(x_poly2, Y) # x_poly derecesine gore yeni X leri tanimlayan dizi
predY2 = lin_regP2.predict(x_poly2)

"""6 - GORSELLESTIRME"""

plt.scatter(X, Y, c = 'green')
plt.plot(X, lin_reg.predict(X), c = 'darkblue')
plt.show()

plt.scatter(X, Y, c = 'red')
plt.plot(X, predY, c = 'b')
plt.show()

plt.scatter(X, Y, c = 'red')
plt.plot(X, predY2, c = 'b')
plt.show()


"""7 - VERILERIN OLCEKLENDIRILMESI """
from sklearn.preprocessing import StandardScaler

sc1 = StandardScaler()
x_olcekli = sc1.fit_transform(X)
sc2 = StandardScaler()
y_olcekli = sc2.fit_transform(Y)

"""8 - SUPPORT VECTOR MACHINE """
from sklearn.svm import SVR

svrReg = SVR(kernel = 'rbf')
svrReg.fit(x_olcekli, y_olcekli)

plt.scatter(x_olcekli, y_olcekli, c = 'r')
plt.plot(x_olcekli, svrReg.predict(x_olcekli), c = 'b')
plt.show()
